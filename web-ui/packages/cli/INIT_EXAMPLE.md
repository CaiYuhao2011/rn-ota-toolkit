# Init å‘½ä»¤ä½¿ç”¨ç¤ºä¾‹

## åŸºæœ¬ç”¨æ³•

### æ–¹å¼ 1ï¼šç›´æ¥æŒ‡å®šé¡¹ç›®åç§°

```bash
rn-ota init my-app
```

æ‰§è¡Œåä¼šæç¤ºè¾“å…¥ï¼š
1. åº”ç”¨åç§°ï¼ˆè‹±æ–‡ï¼Œå…¨å°å†™å­—æ¯ï¼‰
2. åº”ç”¨æ˜¾ç¤ºåç§°ï¼ˆä¸­æ–‡ï¼‰

### æ–¹å¼ 2ï¼šäº¤äº’å¼åˆ›å»º

```bash
rn-ota init
```

æ‰§è¡Œåä¼šä¾æ¬¡æç¤ºè¾“å…¥ï¼š
1. é¡¹ç›®æ–‡ä»¶å¤¹åç§°
2. åº”ç”¨åç§°ï¼ˆè‹±æ–‡ï¼Œå…¨å°å†™å­—æ¯ï¼‰
3. åº”ç”¨æ˜¾ç¤ºåç§°ï¼ˆä¸­æ–‡ï¼‰

## å®Œæ•´ç¤ºä¾‹

```bash
$ rn-ota init my-awesome-app

ğŸš€ åˆ›å»ºæ–°çš„ React Native OTA é¡¹ç›®

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

? è¯·è¾“å…¥åº”ç”¨åç§°ï¼ˆè‹±æ–‡ï¼Œå…¨å°å†™å­—æ¯ï¼‰: my-awesome-app
? è¯·è¾“å…¥åº”ç”¨æ˜¾ç¤ºåç§°ï¼ˆä¸­æ–‡ï¼‰: æˆ‘çš„è¶…æ£’åº”ç”¨

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
é¡¹ç›®åç§°: my-awesome-app
åº”ç”¨åç§°: my-awesome-app
æ˜¾ç¤ºåç§°: æˆ‘çš„è¶…æ£’åº”ç”¨

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ” é¡¹ç›®ç›®å½•åˆ›å»ºæˆåŠŸ
âœ” æ¨¡æ¿æ–‡ä»¶å¤åˆ¶æˆåŠŸ

âœ… é¡¹ç›®åˆ›å»ºå®Œæˆï¼

ä¸‹ä¸€æ­¥æ“ä½œï¼š

  cd my-awesome-app
  npm install
  npm start

æç¤ºï¼š
  - è¯·æ ¹æ®éœ€è¦ä¿®æ”¹ app.json ä¸­çš„é…ç½®
  - è¯·é…ç½® OTA æœåŠ¡å™¨åœ°å€
  - è¿è¡Œ rn-ota config set server <url> è®¾ç½®æœåŠ¡å™¨åœ°å€
```

## åˆ›å»ºåçš„é¡¹ç›®ç»“æ„

```
my-awesome-app/
â”œâ”€â”€ app/                          # Expo Router é¡µé¢
â”‚   â”œâ”€â”€ (tabs)/                   # Tab å¯¼èˆªé¡µé¢
â”‚   â”œâ”€â”€ +html.tsx                 # HTML æ¨¡æ¿
â”‚   â”œâ”€â”€ +not-found.tsx            # 404 é¡µé¢
â”‚   â””â”€â”€ _layout.tsx               # æ ¹å¸ƒå±€
â”œâ”€â”€ assets/                       # é™æ€èµ„æº
â”‚   â”œâ”€â”€ fonts/                    # å­—ä½“æ–‡ä»¶
â”‚   â””â”€â”€ images/                   # å›¾ç‰‡èµ„æº
â”œâ”€â”€ components/                   # ç»„ä»¶
â”‚   â”œâ”€â”€ Collapsible.tsx
â”‚   â”œâ”€â”€ ExternalLink.tsx
â”‚   â”œâ”€â”€ HelloWave.tsx
â”‚   â”œâ”€â”€ ParallaxScrollView.tsx
â”‚   â”œâ”€â”€ ThemedText.tsx
â”‚   â””â”€â”€ ThemedView.tsx
â”œâ”€â”€ constants/                    # å¸¸é‡
â”‚   â””â”€â”€ Colors.ts
â”œâ”€â”€ hooks/                        # è‡ªå®šä¹‰ Hooks
â”‚   â”œâ”€â”€ useColorScheme.ts
â”‚   â””â”€â”€ useThemeColor.ts
â”œâ”€â”€ scripts/                      # è„šæœ¬
â”‚   â””â”€â”€ reset-project.js
â”œâ”€â”€ utils/                        # å·¥å…·å‡½æ•°
â”œâ”€â”€ .editorconfig                 # ç¼–è¾‘å™¨é…ç½®
â”œâ”€â”€ .env.development.js           # å¼€å‘ç¯å¢ƒé…ç½®
â”œâ”€â”€ .env.production.js            # ç”Ÿäº§ç¯å¢ƒé…ç½®
â”œâ”€â”€ .eslintignore                 # ESLint å¿½ç•¥é…ç½®
â”œâ”€â”€ .eslintrc.js                  # ESLint é…ç½®
â”œâ”€â”€ .gitignore                    # Git å¿½ç•¥é…ç½®
â”œâ”€â”€ .prettierrc.js                # Prettier é…ç½®
â”œâ”€â”€ app.json                      # Expo é…ç½® âœ¨ å·²æ›¿æ¢å ä½ç¬¦
â”œâ”€â”€ eas.json                      # EAS Build é…ç½®
â”œâ”€â”€ expo-env.d.ts                 # Expo ç±»å‹å®šä¹‰
â”œâ”€â”€ package.json                  # é¡¹ç›®é…ç½® âœ¨ å·²æ›¿æ¢å ä½ç¬¦
â”œâ”€â”€ package-lock.json             # ä¾èµ–é”å®š âœ¨ å·²æ›¿æ¢å ä½ç¬¦
â”œâ”€â”€ tsconfig.json                 # TypeScript é…ç½®
â””â”€â”€ README.md                     # é¡¹ç›®è¯´æ˜
```

## å ä½ç¬¦æ›¿æ¢è¯´æ˜

åˆ›å»ºé¡¹ç›®æ—¶ï¼Œä»¥ä¸‹æ–‡ä»¶ä¸­çš„å ä½ç¬¦ä¼šè¢«è‡ªåŠ¨æ›¿æ¢ï¼š

### app.json

```json
{
  "expo": {
    "name": "{name}",              // â†’ "æˆ‘çš„è¶…æ£’åº”ç”¨"
    "slug": "{slug}",              // â†’ "my-awesome-app"
    "scheme": "{slug}",            // â†’ "my-awesome-app"
    "runtimeVersion": "{slug}",    // â†’ "my-awesome-app"
    "ios": {
      "bundleIdentifier": "com.jiafusz.{slug}"  // â†’ "com.jiafusz.my-awesome-app"
    },
    "android": {
      "package": "com.jiafusz.{slug}"           // â†’ "com.jiafusz.my-awesome-app"
    }
  }
}
```

### package.json

```json
{
  "name": "{slug}",  // â†’ "my-awesome-app"
  "version": "1.0.0",
  "main": "expo-router/entry"
}
```

### package-lock.json

```json
{
  "name": "{slug}",  // â†’ "my-awesome-app"
  "version": "1.0.0",
  "lockfileVersion": 3
}
```

## åˆ›å»ºåçš„é…ç½®æ­¥éª¤

### 1. å®‰è£…ä¾èµ–

```bash
cd my-awesome-app
npm install
```

### 2. é…ç½® OTA æœåŠ¡å™¨

```bash
# è®¾ç½®æœåŠ¡å™¨åœ°å€
rn-ota config set server http://your-server:10080

# éªŒè¯é…ç½®
rn-ota config list
```

### 3. ä¿®æ”¹ app.json é…ç½®

æ ¹æ®éœ€è¦ä¿®æ”¹ä»¥ä¸‹é…ç½®ï¼š

```json
{
  "expo": {
    "updates": {
      "url": "http://your-server:10080/ota/manifest",  // ä¿®æ”¹ä¸ºä½ çš„æœåŠ¡å™¨åœ°å€
      "enabled": true
    },
    "ios": {
      "bundleIdentifier": "com.yourcompany.yourapp"    // ä¿®æ”¹ä¸ºä½ çš„ Bundle ID
    },
    "android": {
      "package": "com.yourcompany.yourapp"             // ä¿®æ”¹ä¸ºä½ çš„åŒ…å
    }
  }
}
```

### 4. å¯åŠ¨å¼€å‘æœåŠ¡å™¨

```bash
npm start
```

### 5. è¿è¡Œåº”ç”¨

```bash
# Android
npm run android

# iOS (ä»… macOS)
npm run ios
```

## å¸¸è§é—®é¢˜

### Q: é¡¹ç›®åç§°æœ‰ä»€ä¹ˆé™åˆ¶ï¼Ÿ

A: é¡¹ç›®åç§°ï¼ˆåº”ç”¨åç§°ï¼‰åªèƒ½åŒ…å«å°å†™å­—æ¯ã€æ•°å­—å’Œè¿å­—ç¬¦ï¼ˆ-ï¼‰ï¼Œä¾‹å¦‚ï¼š
- âœ… `my-app`
- âœ… `my-awesome-app-2024`
- âŒ `MyApp` (åŒ…å«å¤§å†™å­—æ¯)
- âŒ `my_app` (åŒ…å«ä¸‹åˆ’çº¿)
- âŒ `æˆ‘çš„åº”ç”¨` (åŒ…å«ä¸­æ–‡)

### Q: åº”ç”¨æ˜¾ç¤ºåç§°å¯ä»¥ä½¿ç”¨ä¸­æ–‡å—ï¼Ÿ

A: å¯ä»¥ï¼åº”ç”¨æ˜¾ç¤ºåç§°ä¼šæ˜¾ç¤ºåœ¨æ‰‹æœºæ¡Œé¢ä¸Šï¼Œæ”¯æŒä»»ä½•å­—ç¬¦ï¼ŒåŒ…æ‹¬ä¸­æ–‡ã€emoji ç­‰ã€‚

### Q: åˆ›å»ºåå¯ä»¥ä¿®æ”¹åº”ç”¨åç§°å—ï¼Ÿ

A: å¯ä»¥ï¼Œä½†éœ€è¦æ‰‹åŠ¨ä¿®æ”¹ä»¥ä¸‹æ–‡ä»¶ï¼š
- `app.json`: name, slug, scheme, runtimeVersion, bundleIdentifier, package
- `package.json`: name
- `package-lock.json`: name

å»ºè®®åœ¨åˆ›å»ºæ—¶å°±ç¡®å®šå¥½åç§°ï¼Œé¿å…åç»­ä¿®æ”¹ã€‚

### Q: æ¨¡æ¿æ˜¯åŸºäºä»€ä¹ˆç‰ˆæœ¬çš„ Expoï¼Ÿ

A: æ¨¡æ¿åŸºäº Expo 54+ï¼Œä½¿ç”¨ Expo Router è¿›è¡Œè·¯ç”±ç®¡ç†ï¼Œé»˜è®¤å¯ç”¨ Hermes å¼•æ“ã€‚

### Q: å¯ä»¥è‡ªå®šä¹‰æ¨¡æ¿å—ï¼Ÿ

A: ç›®å‰åªæ”¯æŒå†…ç½®çš„ Expo æ¨¡æ¿ã€‚å¦‚æœéœ€è¦è‡ªå®šä¹‰ï¼Œå¯ä»¥ï¼š
1. åˆ›å»ºé¡¹ç›®åæ‰‹åŠ¨ä¿®æ”¹
2. æˆ–è€…ä¿®æ”¹ `packages/cli/tpl/expo/` ç›®å½•ä¸‹çš„æ¨¡æ¿æ–‡ä»¶

### Q: åˆ›å»ºçš„é¡¹ç›®åŒ…å«å“ªäº›åŠŸèƒ½ï¼Ÿ

A: æ¨¡æ¿é¡¹ç›®åŒ…å«ï¼š
- âœ… Expo Router (æ–‡ä»¶è·¯ç”±)
- âœ… TypeScript æ”¯æŒ
- âœ… ESLint + Prettier ä»£ç è§„èŒƒ
- âœ… Tab å¯¼èˆªç¤ºä¾‹
- âœ… ä¸»é¢˜åˆ‡æ¢ï¼ˆäº®è‰²/æš—è‰²ï¼‰
- âœ… OTA æ›´æ–°é…ç½®
- âœ… å¼€å‘/ç”Ÿäº§ç¯å¢ƒé…ç½®
- âœ… æ„å»ºè„šæœ¬ï¼ˆBundleã€APKï¼‰

## ä¸‹ä¸€æ­¥

åˆ›å»ºé¡¹ç›®åï¼Œå»ºè®®é˜…è¯»ï¼š
- [CLI å®Œæ•´æ–‡æ¡£](./README.md)
- [æ„å»ºå‘½ä»¤è¯´æ˜](./README.md#build---æ„å»º)
- [éƒ¨ç½²æµç¨‹](./README.md#deploy---ä¸€é”®éƒ¨ç½²)
